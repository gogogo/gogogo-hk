{% extends 'gogogo/mapview.html' %}

{% block content-header %}
{% endblock %}

{% block js %}
	{{block.super}}
	<script type="text/javascript">
	var stopManager;
	
	$(document).ready(function(){
		var shape = new gogogo.Shape("{{shape.id}}")
		
		shape.query(function(){
			var overlay = shape.createOverlay();
			map.addOverlay(overlay);
			
			var bounds = overlay.getBounds() ;
			var center = bounds.getCenter() ;
			var zoom = map.getBoundsZoomLevel(bounds) ;
			map.setZoom(zoom);

			map.panTo(center);
	
		});
		var modelManager = new gogogo.ModelManager();
		var clusterManager = new gogogo.ClusterManager(map,modelManager);
		
	});
	
	</script>
{% endblock %}

{% block left_column %}
<table>
    <tr>
    	<td>Name: </td>
    	<td>{{shape.id}}</td>
    </tr>
</table>
{% endblock %}
