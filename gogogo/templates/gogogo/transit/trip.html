{% extends 'gogogo/transit/base.html' %}
{% block js %}
	{{block.super}}
	<script type="text/javascript">
		google.load("maps", "2.x");
		var map;
		
		$(document).ready(function(){
			map = new GMap2(document.getElementById("map"));
			map.setCenter(new GLatLng({{GOGOGO_DEFAULT_LOCATION}}), {{GOGOGO_DEFAULT_ZOOM}});
			map.setUIToDefault();
		{%if shape %}
			var points = {{shape.points}};
			var latlng = [];
			for (var i = 0 ; i < points.length ;i+=2) {
				latlng.push(new GLatLng(points[i],points[i+1] ));
			}
			map.addOverlay(new GPolyline(latlng));
		{%endif %}
							
		});
	</script>
{% endblock %}


{% block content %}

{# Left Column #}
<div class="span-13 colborder">

<div class="span-6 colborder">
{%if user.is_staff %}
		<ul class="object-tools">
    	<li><a href="{%url gogogo.views.db.edit object_type,trip.id %}" >Edit</a></li>
    	</ul>
    	<p>
{%endif%}

<table>
    <tr>
    	<td>Agency : </td>
    	<td>{{agency.name}}</td>
    </tr>

	<tr>
		<td>Route :</td>
    	<td>{{route.long_name}}</a></td>  
	</tr>

    <tr>
        <td>Trip : </td>
        <td>{{trip.short_name}}</a></td>
    </tr>

    <tr>
        <td>Headsign : </td>
        <td>{{trip.headsign}}</td>
    </tr>

</table>
</div>

<div class="span-6 last">
<table>
	<th>Services </th>
    <tr><td>Monday : </td><td></td></tr>
    <tr><td>Tuesday : </td><td></td></tr>
    <tr><td>Wednesday : </td><td></td></tr>
    <tr><td>Thursday : </td><td></td></tr>
    <tr><td>Friday : </td><td></td></tr>
    <tr><td>Saturday : </td><td></td></tr>
    <tr><td>Sunday : </td><td></td></tr>
    <tr><td>Special : </td><td></td></tr>
</table>
</div>

	<div class="span-12">
		{%if not shape %}<div class="alt">No shape available. <a>Contribute.</a></div>	{%endif%}
	</div>

</div>
{# Right Column #}
<div class="span-11 last ">
	
	<div id="map" style="width:100%;height:400px"/>	
</div>

{% endblock %}
